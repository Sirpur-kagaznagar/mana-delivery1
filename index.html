<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mana Delivery â€“ Kagaznagar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="./manifest.json">
<meta name="theme-color" content="#e23744">
<link rel="apple-touch-icon" href="./apple-touch-icon.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Poppins,sans-serif;background:#fff;color:#333}

header, footer{
  background:linear-gradient(135deg,#e23744,#ff6f61);
  color:#fff;
  text-align:center;
  padding:24px 20px;
}

.logo{width:130px;background:#fff;padding:10px;border-radius:16px;margin-bottom:10px;}
.btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:14px;}
.btn{padding:12px 20px;border-radius:30px;border:none;font-weight:600;cursor:pointer;}
.call{background:#fff;color:#e23744}
.wa{background:#25D366;color:#fff}
.install-btn{background:#000;color:#fff;display:none;} 

section{padding:30px 20px}
h2{text-align:center;margin-bottom:12px}

.slogan {
  text-align:center; 
  margin:16px 0; 
  font-weight:700; 
  background: linear-gradient(135deg,#e23744,#ff6f61);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-size:1.1rem;
}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:14px;}
.card{background:#fff;padding:14px;border-radius:14px;text-align:center;box-shadow:0 5px 14px rgba(0,0,0,.1);}

.counter-group { margin-bottom: 30px; text-align: center; }
.counter-label { font-weight: 600; margin-bottom: 8px; display: block; }
.counter{display:flex;justify-content:center;align-items:center;gap:16px;margin:8px 0;}
.counter button{width:36px;height:36px;border-radius:50%;border:none;background:#e23744;color:#fff;font-size:20px;cursor:pointer;}

.summary{max-width:420px;margin:0 auto;background:#fafafa;padding:16px;border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,.1);}
.summary div{display:flex;justify-content:space-between;margin-bottom:8px;}
.total{font-weight:700;font-size:1.1rem; border-top: 1px solid #ddd; padding-top: 8px; margin-top: 8px;}

.pricing-box{max-width:500px;margin:0 auto;background:#fff;padding:16px;border-radius:14px;box-shadow:0 5px 14px rgba(0,0,0,.1);font-size:.95rem;}
.pricing-box p{margin-bottom:8px}

/* Action area at the bottom of the Order Summary */
.action-area {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
  max-width: 420px;
  margin-left: auto;
  margin-right: auto;
}
.action-area .btn { flex: 1; padding: 16px 10px; font-size: 0.95rem; }

/* Only the call float remains */
.float{position:fixed;right:16px;bottom:20px;width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:26px;z-index:999;background:#e23744;}
</style>
</head>
<body>

<header>
  <img src="./logo.png" class="logo" alt="Mana Delivery Logo">
  <h1>Mana Delivery</h1>
  <p>Fast & Trusted Delivery â€“ Kagaznagar</p>
  <div class="btns">
    <button class="btn call" onclick="callNow()">Call Now</button>
    <button class="btn wa" onclick="orderWhatsApp()">WhatsApp Order</button>
    <button class="btn install-btn" id="installBtnAndroid">ğŸ“² Add to Home Screen</button>
    <button class="btn install-btn" id="installBtniOS">ğŸ Install on iPhone</button>
  </div>
</header>

<section>
  <h2>ğŸ› What We Deliver</h2>
  <div class="grid">
    <div class="card">ğŸ›’ Groceries</div><div class="card">ğŸ” Food</div><div class="card">ğŸ¢ Street Food</div>
    <div class="card">ğŸ— Chicken</div><div class="card">ğŸ¥© Mutton</div><div class="card">ğŸŸ Fish</div>
    <div class="card">ğŸ’Š Medicines</div><div class="card">â›½ Petrol</div><div class="card">ğŸ’§ Water Can</div>
    <div class="card">ğŸ¥¤ Cool Drinks</div><div class="card">ğŸ“¦ Pick & Drop</div><div class="card">ğŸª Any Shop</div>
  </div>
  <p class="slogan">ğŸ“ One call. Any delivery.</p>
</section>

<section>
  <h2>ğŸ’° Pricing</h2>
  <div class="pricing-box">
    <p>âœ” Up to 5 items â€“ â‚¹30</p>
    <p>âœ” 6 to 10 items â€“ â‚¹50</p>
    <p>âœ” More than 10 items â€“ â‚¹80</p>
    <p>âœ” Other town delivery â€“ Extra â‚¹100/-</p>
    <p>âœ” Extra shop â€“ â‚¹10 per shop</p>
  </div>
</section>

<section>
  <h2>ğŸ“¦ Order Summary</h2>
  
  <div class="counter-group">
    <span class="counter-label">Number of Items</span>
    <div class="counter">
      <button onclick="changeItems(-1)">âˆ’</button>
      <span id="items">1</span>
      <button onclick="changeItems(1)">+</button>
    </div>
  </div>

  <div class="counter-group">
    <span class="counter-label">Extra Shops</span>
    <div class="counter">
      <button onclick="changeShops(-1)">âˆ’</button>
      <span id="shops">0</span>
      <button onclick="changeShops(1)">+</button>
    </div>
  </div>

  <label style="display:block;text-align:center;margin:10px; cursor:pointer;">
    <input type="checkbox" id="otherTown" onchange="calculate()"> Other Town Delivery
  </label>

  <div class="summary">
    <div><span>Delivery Charge</span><span>â‚¹<span id="charge">30</span></span></div>
    <div><span>Extra Shop Charge</span><span>â‚¹<span id="extraCharge">0</span></span></div>
    <div class="total"><span>Total</span><span>â‚¹<span id="total">30</span></span></div>
  </div>

  <div class="action-area">
    <button class="btn call" style="border: 2px solid #e23744; color: #e23744;" onclick="callNow()">
      <i class="fa-solid fa-phone"></i> Call Now
    </button>
    <button class="btn wa" style="box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);" onclick="orderWhatsApp()">
      <i class="fa-brands fa-whatsapp"></i> Confirm Order
    </button>
  </div>
</section>

<footer>
  Serving Kagaznagar with Fast & Trusted Delivery
</footer>

<div class="float" onclick="callNow()"><i class="fa-solid fa-phone"></i></div>

<script>
let items=1, shops=0;

function calculate(){
  let delivery = 30;
  if(document.getElementById("otherTown").checked){
    delivery = 130; 
  } else if(items<=5){
    delivery = 30;
  } else if(items<=10){
    delivery = 50;
  } else {
    delivery = 80;
  }
  let extra = shops * 10;
  document.getElementById("charge").innerText = delivery;
  document.getElementById("extraCharge").innerText = extra;
  document.getElementById("total").innerText = delivery + extra;
}

function changeItems(v){ items=Math.max(1,items+v); document.getElementById("items").innerText=items; calculate(); }
function changeShops(v){ shops=Math.max(0,shops+v); document.getElementById("shops").innerText=shops; calculate(); }
function callNow(){ location.href="tel:9494378247"; }

function orderWhatsApp(){
  let total = document.getElementById("total").innerText;
  let delCharge = document.getElementById("charge").innerText;
  let shopCharge = document.getElementById("extraCharge").innerText;
  
  let msg = `*Mana Delivery â€“ Kagaznagar*\nâœ… *NEW ORDER CONFIRMED*\n-------------------------\nğŸ“¦ *Items:* ${items}\nğŸª *Shops:* ${shops}\n-------------------------\nğŸ’° *Delivery:* â‚¹${delCharge}\nğŸª *Extra Shop Fee:* â‚¹${shopCharge}\nâ­ *TOTAL:* â‚¹${total}\n-------------------------\nğŸ“ *Location:*`;

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(pos => {
      let mapUrl = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
      msg += `\n${mapUrl}`;
      window.open(`https://wa.me/919494378247?text=${encodeURIComponent(msg)}`, "_blank");
    }, () => {
      msg += ` (Location not shared)`;
      window.open(`https://wa.me/919494378247?text=${encodeURIComponent(msg)}`, "_blank");
    });
  } else {
    window.open(`https://wa.me/919494378247?text=${encodeURIComponent(msg)}`, "_blank");
  }
}

if('serviceWorker' in navigator){ navigator.serviceWorker.register('./service-worker.js'); }

let deferredPrompt;
const btnAndroid = document.getElementById('installBtnAndroid');
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  btnAndroid.style.display = 'inline-block';
});
btnAndroid.addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    if (outcome === 'accepted') btnAndroid.style.display = 'none';
    deferredPrompt = null;
  }
});

const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
const isSafari = /Safari/i.test(navigator.userAgent) && !/CriOS|FxiOS/i.test(navigator.userAgent);
const btniOS = document.getElementById("installBtniOS");
if (isIOS && isSafari && !window.navigator.standalone) {
  btniOS.style.display = "inline-block";
}
btniOS.onclick = () => alert("To install on iPhone:\n1. Tap Share icon\n2. Tap 'Add to Home Screen'\n3. Tap Add");
</script>
</body>
</html>
